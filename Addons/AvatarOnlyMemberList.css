/* --- NEW KEYFRAMES FOR ANIMATION --- */
@keyframes flicker {
    0% { filter: blur(1.5px) saturate(0.5); transform: scale(0.95); }
    50% { filter: blur(1.8px) saturate(0.6) brightness(1.1); transform: scale(0.94); }
    100% { filter: blur(1.5px) saturate(0.5); transform: scale(0.95); }
}

@keyframes popIn {
    0% { transform: scale(0.8); }
    55% { transform: scale(1.15); /* Overshoot for a strong 'pop' */ }
    100% { transform: scale(1.05); }
}
/* ------------------------------------- */


.membersWrap_c8ffbb {
    transition: transform 0.5s ease;
    /* Shrink width by avatar width plus various padding (8px + 8px + XS space) */
    --member-list-collapsed-width: calc(32px + 2 * (16px + var(--space-xs)));
    --member-list-collapsed-transform: calc((var(--custom-member-list-width) - var(--member-list-collapsed-width)));
    margin-left: calc(-1 * var(--member-list-collapsed-transform));
    transform: translateX(var(--member-list-collapsed-transform));
}

.membersWrap_c8ffbb:hover {
    transform: none;
}

.members_c8ffbb {
    z-index: 1;
}

div:not(:hover) > .members_c8ffbb > div {
    padding-top: 10px;
}

.members_c8ffbb {
    background-color: #0000;
    transition: 0.5s ease;
}

.members_c8ffbb:hover {
    border-radius: var(--memberlist-border-radius) 0 0 var(--memberlist-border-radius);
    /*margin-right: 15px;*/
    margin-bottom: 15px;
}

/*We could for instance let user control the color via a css var*/
.theme-light .members_c8ffbb:hover {
    background: linear-gradient(90deg, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 1) 30%, rgba(255, 255, 255, 0) 100%);
}

.theme-dark .members_c8ffbb:hover {
    background: linear-gradient(90deg, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 1) 30%, rgba(0, 0, 0, 0) 100%);
}

/* Make the list fill the window height */
.membersWrap_c8ffbb {
    height: 100%;
}

/* Realign headers to be more visible when collapsed */
.membersGroup_c8ffbb {
    transition: padding 0.5s ease;
}

.membersWrap_c8ffbb:not(:hover) .membersGroup_c8ffbb {
    padding-left: 2px;
}

/* --- INTENSE PIXELIZE/GLITCH EFFECT MODIFICATION START --- */
.member__5d473 {
    background-color: transparent;
    
    /* Default transition for filter/transform properties */
    /* Cubic-bezier provides the cool "pop/bounce" effect when combined with scale */
    transition: filter 0.1s ease-in, transform 0.15s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
}

/* Apply the constant, subtle flicker when the list is collapsed */
.membersWrap_c8ffbb:not(:hover) .member__5d473 {
    filter: blur(1.5px) saturate(0.5); 
    transform: scale(0.95);
    animation: flicker 0.2s infinite alternate; 
}

/* If the member list is open, but this specific member is not hovered, still keep a slight blur/scale */
.membersWrap_c8ffbb:hover .member__5d473:not(:hover) {
    animation: none; /* Stop the constant flicker when the list is open */
    filter: blur(0.5px) saturate(0.8);
    transform: scale(1);
}

/* When the specific member is hovered: Remove all filters and start the aggressive pop-in animation */
.member__5d473:hover {
    filter: none; /* Instant clarity */
    z-index: 10; /* Bring the hovered item forward */
    
    /* Overwrite transform and apply the intense popIn keyframes */
    transform: scale(1.05);
    animation: popIn 0.3s ease-out forwards; 
}
/* --- INTENSE PIXELIZE/GLITCH EFFECT MODIFICATION END --- */

/* Member list activity widget */
.contentImage__42bf5 {
    transition: transform 0.5s ease;
}

.membersWrap_c8ffbb:not(:hover) .contentImage__42bf5 {
    /* Undo expanded spacing and normal list width, then apply collapsed list width and necessary spacing to center the icon */
    transform: translateX(calc(18px - var(--custom-member-list-width) + var(--member-list-collapsed-width) - ((var(--member-list-collapsed-width) - 48px) / 2)));
}

.container__0f2e8 {
    transition: background-color 0.5s ease, border-color 0.5s ease;
}

.membersWrap_c8ffbb:not(:hover) .container__0f2e8 {
    background-color: transparent;
    border-color: transparent;
}

.container__7641b {
    background: transparent !important;
    border: none !important;
}

.infoSection__0f2e8 {
    transition: opacity 0.5s ease;
}

.membersWrap_c8ffbb:not(:hover) .infoSection__0f2e8 {
    opacity: 0;
}

/* Fade out usernames when collapsed */
.content__91a9d {
    transition: opacity 0.5s ease;
}

.membersWrap_c8ffbb:not(:hover) .content__91a9d {
    opacity: 0;
}

/* Fix the member count addon (vencord) */
.members_c8ffbb:not(:hover) .vc-membercount-widget {
    margin-bottom: -16px;
}

.members_c8ffbb:not(:hover) .vc-membercount-online-dot,
.members_c8ffbb:not(:hover) .vc-membercount-total-dot {
    display: none !important;
}

.members_c8ffbb:not(:hover) > .vc-membercount-member-list > div {
    box-sizing: border-box !important;
    flex: 1 0 100%;
}

.members_c8ffbb:not(:hover) > .vc-membercount-member-list {
    flex-wrap: wrap;
}
